<!-- Use this file to provide workspace-specific custom instructions to Copilot. For more details, visit https://code.visualstudio.com/docs/copilot/copilot-customization#_use-a-githubcopilotinstructionsmd-file -->

# Skadi Monorepo Development Guidelines

## Project Structure

This is a TypeScript monorepo for Node.js libraries using:

- **pnpm workspaces** for package management
- **Turborepo** for build orchestration
- **TypeScript** with strict configuration
- **Vitest** for testing
- **tsup** for bundling
- **ESLint + Prettier** for code quality

## Package Guidelines

- Use scoped packages with `@skadi/` prefix
- Follow the established folder structure in `packages/`
- Each package should have: `src/`, `tests/`, proper `package.json`, `tsconfig.json`, `tsup.config.ts`
- Use `catalog:` for shared dependencies in `devDependencies`
- Export all public APIs through `index.ts` with `.js` extensions for imports

## Package Folder Structure

Each package in `packages/` should follow this standardized structure:

```
packages/
  your-package/
    src/
      index.ts              # Main entry point - exports all public APIs
      types.ts              # Type definitions (if needed)
      utils/                # Internal utility functions
      lib/                  # Core library code
      constants.ts          # Package constants
    tests/
      *.test.ts             # Unit tests (matching src file structure)
      fixtures/             # Test data and mock objects
      setup.ts              # Test setup and configuration
    dist/                   # Build output (generated by tsup)
    README.md               # Package documentation
    package.json            # Package configuration
    tsconfig.json           # TypeScript configuration
    tsup.config.ts          # Build configuration
    vitest.config.ts        # Testing configuration (if package-specific config needed)
```

### Key Structure Rules:

- **`src/index.ts`** - Single entry point that exports all public APIs
- **`src/`** - All source code, organized by feature/module
- **`tests/`** - All test files with `.test.ts` extension
- **`dist/`** - Generated build output (ignored in git)
- **File naming** - Use kebab-case for files, PascalCase for classes, camelCase for functions
- **Internal organization** - Group related functionality in subdirectories within `src/`

## Code Style

- Use TypeScript with strict mode enabled
- Follow Biome rules for linting and formatting
- Write comprehensive tests for all public APIs
- Include proper JSDoc comments for exported functions/classes

## File Extensions

- Use `.ts` for source files
- Import with `.js` extensions due to `verbatimModuleSyntax` setting
- Use `type` imports when importing only types

## Testing

- Use Vitest for all testing
- Test files should be in `tests/` directory with `.test.ts` extension
- Write descriptive test names and group related tests with `describe`

## Documentation

- Each package needs a comprehensive README.md
- Include installation, usage examples, and API documentation
- Update root README.md when adding new packages
